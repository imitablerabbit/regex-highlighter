var RegexHighlighter=function(){function e(e,n,t){var i=new XMLHttpRequest;i.onreadystatechange=function(){4==i.readyState&&200==i.status&&n(i.responseText,t)},i.open("GET",e,!0),i.send()}function n(e){e.sort(function(e,n){return e.index==n.index?e.precedence==n.precedence?0:e.precedence-n.precedence:e.index-n.index})}function t(e,n){for(var t=1;t<e.length;t++){var i=n(e[t-1],e[t]);0!=i&&(0>i?(e.splice(t-1,1),t--):(e.splice(t,1),t--))}}function i(e,n){for(var t=0,i=0;i<n.length;i++){var c=n[i],s=c.index,d=c.classes,g=c.length;e=r(e,d,s+t,s+g+t),t+=("<span class=''></span>"+d).length}return e}function r(e,n,t,i){"undefined"==typeof n&&(n=""),"undefined"==typeof t&&(t=0),"undefined"==typeof i&&(i=e.length);var r=e.substring(0,t),c=e.substring(t,i),s=e.substring(i);return r+"<span class='"+n+"'>"+c+"</span>"+s}function c(e,n,t){var i=[],r=1;for(var c in e){for(var s=e[c],g=s.regexes,a=0;a<g.length;a++){regex=g[a];for(var h=new RegExp(regex,"gm");match=h.exec(n);){var l=match.index,f=match[match.length-1];if("undefined"!=typeof f){if(s.precedence)if(isNaN(s.precedence)){for(var p=!1,a=0;a<i.length;a++)if(s.precedence==i[a].type){precedence=i[a].precedence,r--,p=!0;break}p||(precedence=r)}else precedence=parseInt(s.precedence),r--;else precedence=r;s=new d(l,t+" "+c,c,f.length,f,precedence),i.push(s)}}}r++}return i}function s(e,n){return e.index==n.index?e.precidence==n.precidence?e.length==n.length?-1:e.length-n.length:e.precidence-n.precidence:n.index>e.index&&n.index+n.length<e.index+e.length?1:n.index>e.index&&n.index<e.index+e.length&&n.index+n.length>=e.index+e.length?e.precidence!=n.precidence?e.precidence-n.precidence:e.length!=n.length?e.length-n.length:-1:0}var d=function(e,n,t,i,r,c){this.index=e,this.classes=n,this.type=t,this.length=i,this.match=r,this.precedence=c};this.insertSyntaxHighlighting=function(e,r,d,g){"undefined"==typeof d&&(d="regex-highlight"),"undefined"==typeof g&&(g=s);var a=c(e,r,d);return n(a),t(a,g),i(r,a)},this.insertSyntaxHighlightingByClass=function(e,n){if("undefined"==typeof e)return!1;"undefined"==typeof n&&(n="regex-color");for(var t=document.getElementsByClassName(n),i=0;i<t.length;i++){var r=t[i],c=r.innerHTML;result=this.insertSyntaxHighlighting(e,c),result&&(r.innerHTML=result)}return!0},this.loadSyntaxHighlightingByClass=function(n,t){"undefined"==typeof t&&(t="languages/"),"undefined"==typeof n&&(n="regex-color");for(var i=document.getElementsByClassName(n),r=0;r<i.length;r++){var c=i[r],s=c.className.split(" ");if(s.length>1){var d=s[1];e(t+d+".json",function(e,n){var t=JSON.parse(e),i=(new RegexHighlighter).insertSyntaxHighlighting(t,n.innerHTML);i&&(n.innerHTML=i)},c)}}}};
